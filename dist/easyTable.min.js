!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):(e=e||self).bundle=t(e.$)}(this,function(o){"use strict";o=o&&o.hasOwnProperty("default")?o.default:o;var e=function e(t,n){return this.version="1.0.0",this.tableId=t.tableid,this.tableClass=t.tableclass,this.tableParent=t.tableparent,this.table,this.theade=t.theade,this.addDom=t.adddom,this.removeDom=t.removedom,this.data=n,this.mergeCells=t.mergeCells||!1,this instanceof e?(this.init(),this):new e(t,n).init()};return e.prototype={constructor:e,init:function(){return this.createTable(),1==this.mergeCells&&e.MergeCell(this.tableId),this.addEventDom(),this.removeEventDom(),this},createTr:function(){var e=document.createElement("tr");this.table.appendChild(e)},createTd:function(){},createTable:function(){var e=this,t=function(e,t,n){var l=document.createElement("table"),a=document.createElement("tr");a.innerHTML=n;var r=document.createElement("tbody");r.appendChild(a),null!=e.id&&l.setAttribute("id",e.id);if(null!=e.class){var i=e.class.split(" ");for(var s in i)l.classList.add(i[s])}return o.each(t,function(e,t){var n=document.createElement("tr");for(var l in t){console.log(t);var a=document.createElement("td");a.innerHTML=t[l],n.appendChild(a)}r.appendChild(n)}),l.appendChild(r),l}({id:e.tableId,class:e.tableClass},e.data,e.theade);null!=this.tableParent&&""!=this.tableParent?o(this.tableParent).append(t):document.body.appendChild(t)},addEventDom:function(){var e=this;o(this.addDom).on("click",function(){console.log("开始生产表格..."),e.createTable()})}},e.MergeCell=function(e){for(var t,n,l,a=document.getElementById(e),r=a.rows.item(0).cells.length,i=0;i<r;i++){n=1,t="";for(var s=0;s<a.rows.length;s++)if(t==a.rows[s].cells[i].innerHTML)n++;else{if(1<n){l=s-n,a.rows[l].cells[i].rowSpan=n;for(var o=l+1;o<s;o++)a.rows[o].cells[i].style.display="none";n=1}t=a.rows[s].cells[i].innerHTML}if(1<n){l=s-n,a.rows[l].cells[i].rowSpan=n;for(var o=l+1;o<s;o++)a.rows[o].cells[i].style.display="none"}}},e});
